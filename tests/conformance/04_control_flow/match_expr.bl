@prelude(core)

// Conformance: match expressions

type Color = | Red | Green | Blue

fn describe(c: Color) -> String = {
  match c
    Red -> "red"
    Green -> "green"
    Blue -> "blue"
}

test "match enum red" = describe(Red) == "red"
test "match enum green" = describe(Green) == "green"
test "match enum blue" = describe(Blue) == "blue"

fn unwrap_default(opt: Option<Int>, default: Int) -> Int = {
  match opt
    Some(x) -> x
    None -> default
}

test "match option some" = unwrap_default(Some(42), 0) == 42
test "match option none" = unwrap_default(None, -1) == -1

fn to_string(x: Int) -> String = {
  match x
    _ -> "anything"
}

test "match wildcard" = to_string(99) == "anything"
