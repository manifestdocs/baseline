@prelude(core)

// Conformance: pipe operator

fn double(x: Int) -> Int = x * 2

fn increment(x: Int) -> Int = x + 1

fn negate(x: Int) -> Int = 0 - x

test "simple pipe" = {
  let r = 5 |> double
  r == 10
}
test "chained pipes" = {
  let r = 5 |> double |> increment
  r == 11
}
test "pipe with negate" = {
  let r = 3 |> negate
  r == -3
}
test "pipe chain three" = {
  let r = 1 |> increment |> double |> increment
  r == 5
}
