@prelude(script)

fn greet(name: String) -> String = "Hello, ${name}!"

fn double(x: Int) -> Int = x * 2

fn factorial(n: Int) -> Int = if n <= 1 then 1 else n * factorial(n - 1)

fn main() -> () = {
  let msg = greet("World")
  Console.println(msg)
  let result = 5 |> double
  Console.println("5 * 2 = ${result}")
  let fact = factorial(6)
  Console.println("6! = ${fact}")
  let nums = [1, 2, 3, 4, 5]
  let doubled = List.map(nums, |x| x * 2)
  Console.println("doubled: ${doubled}")
  let sum = List.fold(nums, 0, |acc, x| acc + x)
  Console.println("sum: ${sum}")
  let name = "  hello  " |> String.trim |> String.to_upper
  Console.println("trimmed+upper: ${name}")
}
